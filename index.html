<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Introduction</title>
    <link rel="icon" href="BMW.ico" />
    <link rel="stylesheet" href="style.css">
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
    <script>
        function randomRedirect() {
            const pages = [
                'agents/agent1.html',
                'agents/agent2.html',
                'agents/agent3.html',
                'agents/agent4.html',
                'agents/agent5.html',
                'agents/agent6.html',
                'agents/agent7.html',
                'agents/agent8.html',
            ];

            // Check if the user already has an assigned page in localStorage
            let assignedPage = localStorage.getItem('assignedPage');
            
            // If no page is assigned, randomly select one and store it
            if (!assignedPage) {
                assignedPage = pages[Math.floor(Math.random() * pages.length)];
                localStorage.setItem('assignedPage', assignedPage); // Save to localStorage
            }

            // Redirect to the assigned page
            window.location.href = assignedPage;
        }

        function handleSubmit(event) {
            event.preventDefault();
            const response = grecaptcha.getResponse();
                if (response.length === 0) {
                 alert("Please complete the reCAPTCHA.");
                 return;
            }
            randomRedirect();
        }
    </script>

</head>
<body>
    <div class="container">
        <h1>Welcome!</h1>
        <p>Thank you for participating in this study. As a BMW customer you will be interacting with a virtual sales assistant to seek information about different BMW models. 
            Your task is to explore the options available and ask any questions you may have to help you make an informed decision. 
        Please follow these steps to complete your participation:</p>
        <ol class="custom-counter">
            <li><strong>Access the Survey:</strong>
                <ul>
                    <li>When you are done reading this info press start to access the survey form.</li>
                </ul>
            </li>
            <li><strong>Interact with the Virtual Agent:</strong>
                <ul>
                    <li>Within the survey, you will find a link to a virtual assistant.</li>
                    <li>Click on the link and interact with the virtual agent to receive information about different BMW models.</li>
                </ul>
            </li>
            <li><strong>Return to the Survey:</strong>
                <ul>
                    <li>After interacting with the virtual agent, return to the survey form.</li>
                    <li>Indicate the BMW model that fits best for you accoring to the agent's advice in the appropriate section of the form.</li>
                </ul>
            </li>
            <li><strong>Complete the Survey:</strong>
                <ul>
                    <li>Proceed to the last page of the survey and answer all the remaining questions.</li>
                    <li>Once you have submitted the form you receive a link to an ID that you need to enter at MTurk.</li>
                </ul>
            </li>
        </ol>
        <p>Please make sure to complete both the interaction with the virtual agent and the survey to ensure your participation is fully recorded. Thank you for your time and cooperation!</p>
            <form onsubmit="handleSubmit(event)" netlify-recaptcha="true">
                <div class="g-recaptcha" data-sitekey="6LdUQTIqAAAAAIgfwooBDmQHkPltqlkA0vtefsjW"></div>
                <div class="button-container">
                    <button type="submit">Start</button>
                </div>
            </form>
        </div>
    </div>
</body>
</html>
